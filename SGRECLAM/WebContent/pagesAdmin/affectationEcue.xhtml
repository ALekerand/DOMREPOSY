<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">

	<!-- 
		Replace path to template, title, header and body
		with actual data.
	 -->
	<ui:composition template="/templates/templateAdmin.xhtml">
			<ui:define name="pageTitle">Title</ui:define>
			<ui:define name="pageHeader">Header</ui:define>
			<ui:define name="body">
				<h:form id="form">
				
				<p:messages  showDetail="true" closable="true"></p:messages>			
				
	<p:panel header="AFFECTATION DES ECUE">
	
	
	
	<table>
  <tr>
    <td>
    <p:panelGrid columns="2">
    <p:outputLabel value="Niveau Ecue"></p:outputLabel>
    <p:selectOneMenu value="#{enseignerController.codeNiveau}">
    <f:selectItem  itemLabel="selectionnez" itemValue=""></f:selectItem>
    <f:selectItems value="#{enseignerController.listNiveau}"  var="dom" itemLabel="#{dom.libeleNiveau}" itemValue="#{dom.codeNiveau}"></f:selectItems>
    </p:selectOneMenu>
    </p:panelGrid>
      	 <p:dataTable value="#{enseignerController.listEcue}" var="dom" selection="#{enseignerController.choosedEcue}" rowKey="#{dom.codeEcue}">
   	 
   	 <f:facet name="header">LISTE DES ECUE</f:facet>
   	 <p:column selectionMode="single" style="width:10% ">
				</p:column>
   	 
   	  <p:column headerText="Code Ecue">
   	  <p:outputLabel value="#{dom.codeEcue}" />
   	  </p:column>
   	  
   	  <p:column headerText="Libellé Ecue">
   	  <p:outputLabel value="#{dom.libelleEcue}" />
   	  </p:column>
   	  
   	     	  <p:column headerText="UE">
   	  <p:outputLabel value="#{dom.ue.libeleUe}" />
   	  </p:column>
   	  
   	 </p:dataTable>
    </td>
  
    <td>
   	 <p:dataTable value="#{enseignerController.listEnseignant}" var="dom" selection="#{enseignerController.choosedEnseignant}" rowKey="#{dom.matriculeEnsei}">
   	 
   	 <f:facet name="header">LISTE DES ENSEIGNANTS</f:facet>
   	 <p:column selectionMode="single" style="width:10% ">
				</p:column>
   	 
   	  <p:column headerText="Nom">
   	  <p:outputLabel value="#{dom.nomEnsei}"/>
   	  </p:column>
   	  
   	  <p:column headerText="prénoms">
   	  <p:outputLabel value="#{dom.prenomsEnsei}"/>
   	  </p:column>
   	  
   	  <p:column headerText="Genre">
   	  <p:outputLabel value="#{dom.sexe.libelleSexe}" />
   	  </p:column>
   	 </p:dataTable>
    </td>
  
  </tr>
</table>

   <br></br>                     
   
      <p:commandButton value="Enregistrer" action="#{enseignerController.enregistrer}" update="form" binding="#{enseignerController.btnValider}"></p:commandButton>
	  <p:commandButton value="Annuler"  action="#{enseignerController.annuler}" update="form" binding="#{enseignerController.btnAnnuler}"></p:commandButton>

    <br></br>

	<p:dataTable value="#{enseignerController.listEnseigner}" var="dom" selectionMode="single" selection="#{enseignerController.selectedEnseigner}" rowKey="#{dom.codeEnseigner}">
	
	<p:ajax event="rowSelect" process="@this"  update="form" listener="#{enseignerController.selectionnerLigne}"></p:ajax>
   	 
   	 <f:facet name="header">LISTE DES ECUE ATTRIBUES</f:facet>
   	 
   	  <p:column headerText="Nom de l'ENSEIGNANT">
   	  <p:outputLabel value="#{dom.enseignant.nomEnsei}" />
   	  </p:column>
   	  
   	   <p:column headerText="Prenoms de l'ENSEIGNANT">
   	  <p:outputLabel value="#{dom.enseignant.prenomsEnsei}" />
   	  </p:column>
   	  
   	   <p:column headerText="ECUE">
   	  <p:outputLabel value="#{dom.ecue.libelleEcue}" />
   	  </p:column>
   	  
   	  <p:column headerText="UE">
   	  <p:outputLabel value="#{dom.ecue.ue.libeleUe}" />
   	  </p:column>
   	  
   	  <p:column headerText="Année Scolaire">
   	  <p:outputLabel value="#{dom.anneeScolaire.libelleAnneeScol}" />
   	  </p:column> 
   	 </p:dataTable>
	
		</p:panel>	
				
				</h:form>
			</ui:define>
	</ui:composition>

</html>